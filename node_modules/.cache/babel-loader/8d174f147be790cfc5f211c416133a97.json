{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SignTransactionGasFix = void 0;\n\nvar tslib_1 = require(\"tslib\");\n\nvar subproviders_1 = require(\"@0x/subproviders\");\n\nvar SignTransactionGasFix =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(SignTransactionGasFix, _super);\n\n  function SignTransactionGasFix() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * This method conforms to the web3-provider-engine interface.\n   * It is called internally by the ProviderEngine when it is this subproviders\n   * turn to handle a JSON RPC request.\n   * @param payload JSON RPC payload\n   * @param next Callback to call if this subprovider decides not to handle the request\n   * @param end Callback to call if subprovider handled the request and wants to pass back the request.\n   */\n  // tslint:disable-next-line:prefer-function-over-method async-suffix\n\n\n  SignTransactionGasFix.prototype.handleRequest = function (payload, next, end) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n      return tslib_1.__generator(this, function (_a) {\n        switch (payload.method) {\n          case 'eth_signTransaction':\n            if (payload.params && payload.params.length > 0 && payload.params[0]) {\n              if (!payload.params[0].gas) {\n                payload.params[0].gas = \"\";\n              }\n\n              next();\n            }\n\n            return [2\n            /*return*/\n            ];\n\n          default:\n            next();\n            return [2\n            /*return*/\n            ];\n        }\n\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  return SignTransactionGasFix;\n}(subproviders_1.Subprovider);\n\nexports.SignTransactionGasFix = SignTransactionGasFix;","map":{"version":3,"sources":["../../src/SignTransactionGasFix.ts"],"names":[],"mappings":";;;;;;;;;AAEA,IAAA,cAAA,GAAA,OAAA,CAAA,kBAAA,CAAA;;AAEA,IAAA,qBAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAA2C,EAAA,OAAA,CAAA,SAAA,CAAA,qBAAA,EAAA,MAAA;;AAA3C,WAAA,qBAAA,GAAA;;AAiCC;AA9BC;;;;;;;AAOG;AACH;;;AACa,EAAA,qBAAA,CAAA,SAAA,CAAA,aAAA,GAAb,UAA2B,OAA3B,EAC2B,IAD3B,EAE2B,GAF3B,EAE6C;;;AAG3C,gBAAQ,OAAO,CAAC,MAAhB;AACE,eAAK,qBAAL;AACE,gBAAI,OAAO,CAAC,MAAR,IAAkB,OAAO,CAAC,MAAR,CAAe,MAAf,GAAwB,CAA1C,IAA+C,OAAO,CAAC,MAAR,CAAe,CAAf,CAAnD,EAAsE;AACpE,kBAAI,CAAC,OAAO,CAAC,MAAR,CAAe,CAAf,EAAkB,GAAvB,EAA4B;AAC1B,gBAAA,OAAO,CAAC,MAAR,CAAe,CAAf,EAAkB,GAAlB,GAAwB,EAAxB;AACD;;AACD,cAAA,IAAI;AACL;;AACD,mBAAA,CAAA;AAAA;AAAA,aAAA;;AAEF;AACE,YAAA,IAAI;AACJ,mBAAA,CAAA;AAAA;AAAA,aAAA;AAZJ;;;;;;;AAcD,GAnBY;;AAqBf,SAAA,qBAAA;AAAC,CAjCD,CAA2C,cAAA,CAAA,WAA3C,CAAA;;AAAa,OAAA,CAAA,qBAAA,GAAA,qBAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SignTransactionGasFix = void 0;\nvar tslib_1 = require(\"tslib\");\nvar subproviders_1 = require(\"@0x/subproviders\");\nvar SignTransactionGasFix = /** @class */ (function (_super) {\n    tslib_1.__extends(SignTransactionGasFix, _super);\n    function SignTransactionGasFix() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * This method conforms to the web3-provider-engine interface.\n     * It is called internally by the ProviderEngine when it is this subproviders\n     * turn to handle a JSON RPC request.\n     * @param payload JSON RPC payload\n     * @param next Callback to call if this subprovider decides not to handle the request\n     * @param end Callback to call if subprovider handled the request and wants to pass back the request.\n     */\n    // tslint:disable-next-line:prefer-function-over-method async-suffix\n    SignTransactionGasFix.prototype.handleRequest = function (payload, next, end) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            return tslib_1.__generator(this, function (_a) {\n                switch (payload.method) {\n                    case 'eth_signTransaction':\n                        if (payload.params && payload.params.length > 0 && payload.params[0]) {\n                            if (!payload.params[0].gas) {\n                                payload.params[0].gas = \"\";\n                            }\n                            next();\n                        }\n                        return [2 /*return*/];\n                    default:\n                        next();\n                        return [2 /*return*/];\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    return SignTransactionGasFix;\n}(subproviders_1.Subprovider));\nexports.SignTransactionGasFix = SignTransactionGasFix;\n//# sourceMappingURL=SignTransactionGasFix.js.map"]},"metadata":{},"sourceType":"script"}