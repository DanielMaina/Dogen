{"ast":null,"code":"import { createReducer, nanoid } from '@reduxjs/toolkit';\nimport { addPopup, removePopup, updateBlockNumber, setOpenModal, updateEthPrice, updateGlobalData, addBookMarkToken, removeBookmarkToken, updateBookmarkTokens, addBookMarkPair, removeBookmarkPair, updateBookmarkPairs, updateTokenDetails, updateIsProMode } from './actions';\nconst initialState = {\n  blockNumber: {},\n  popupList: [],\n  openModal: null,\n  globalData: null,\n  ethPrice: {},\n  bookmarkedTokens: [],\n  bookmarkedPairs: [],\n  analyticToken: null,\n  tokenChartData: null,\n  tokenDetails: [],\n  isProMode: false\n};\nexport default createReducer(initialState, builder => builder.addCase(updateBlockNumber, (state, action) => {\n  const {\n    chainId,\n    blockNumber\n  } = action.payload;\n\n  if (typeof state.blockNumber[chainId] !== 'number') {\n    state.blockNumber[chainId] = blockNumber;\n  } else {\n    state.blockNumber[chainId] = Math.max(blockNumber, state.blockNumber[chainId]);\n  }\n}).addCase(setOpenModal, (state, action) => {\n  state.openModal = action.payload;\n}).addCase(addPopup, (state, _ref) => {\n  let {\n    payload: {\n      content,\n      key,\n      removeAfterMs = 15000\n    }\n  } = _ref;\n  state.popupList = (key ? state.popupList.filter(popup => popup.key !== key) : state.popupList).concat([{\n    key: key || nanoid(),\n    show: true,\n    content,\n    removeAfterMs\n  }]);\n}).addCase(removePopup, (state, _ref2) => {\n  let {\n    payload: {\n      key\n    }\n  } = _ref2;\n  state.popupList.forEach(p => {\n    if (p.key === key) {\n      p.show = false;\n    }\n  });\n}).addCase(updateEthPrice, (state, _ref3) => {\n  let {\n    payload: {\n      price,\n      oneDayPrice,\n      ethPriceChange\n    }\n  } = _ref3;\n  state.ethPrice = {\n    price,\n    oneDayPrice,\n    ethPriceChange\n  };\n}).addCase(updateGlobalData, (state, _ref4) => {\n  let {\n    payload: {\n      data\n    }\n  } = _ref4;\n  state.globalData = data;\n}).addCase(addBookMarkToken, (state, _ref5) => {\n  let {\n    payload\n  } = _ref5;\n  const tokens = state.bookmarkedTokens;\n  tokens.push(payload);\n  state.bookmarkedTokens = tokens;\n}).addCase(removeBookmarkToken, (state, _ref6) => {\n  let {\n    payload\n  } = _ref6;\n  const tokenIndex = state.bookmarkedTokens.indexOf(payload);\n  const tokens = state.bookmarkedTokens.slice(0, tokenIndex - 1).concat(state.bookmarkedTokens.slice(tokenIndex + 1, state.bookmarkedTokens.length - 1));\n  state.bookmarkedTokens = tokens;\n}).addCase(updateBookmarkTokens, (state, _ref7) => {\n  let {\n    payload\n  } = _ref7;\n  state.bookmarkedTokens = payload;\n}).addCase(addBookMarkPair, (state, _ref8) => {\n  let {\n    payload\n  } = _ref8;\n  const pairs = state.bookmarkedPairs;\n  pairs.push(payload);\n  state.bookmarkedPairs = pairs;\n}).addCase(removeBookmarkPair, (state, _ref9) => {\n  let {\n    payload\n  } = _ref9;\n  const pairIndex = state.bookmarkedPairs.indexOf(payload);\n  const pairs = state.bookmarkedPairs.slice(0, pairIndex - 1).concat(state.bookmarkedPairs.slice(pairIndex + 1, state.bookmarkedPairs.length - 1));\n  state.bookmarkedPairs = pairs;\n}).addCase(updateBookmarkPairs, (state, _ref10) => {\n  let {\n    payload\n  } = _ref10;\n  state.bookmarkedPairs = payload;\n}).addCase(updateTokenDetails, (state, _ref11) => {\n  let {\n    payload\n  } = _ref11;\n  const updatedTokenDetails = state.tokenDetails;\n  const detailIndex = updatedTokenDetails.findIndex(item => item.address === payload.address);\n\n  if (detailIndex > -1) {\n    updatedTokenDetails[detailIndex] = payload;\n  } else {\n    updatedTokenDetails.push(payload);\n  }\n\n  state.tokenDetails = updatedTokenDetails;\n}).addCase(updateIsProMode, (state, _ref12) => {\n  let {\n    payload\n  } = _ref12;\n  state.isProMode = payload;\n}));","map":{"version":3,"sources":["/Users/danielmaina/Downloads/_newCrptProj/clientBase/DEX/interface-v2-master/src/state/application/reducer.ts"],"names":["createReducer","nanoid","addPopup","removePopup","updateBlockNumber","setOpenModal","updateEthPrice","updateGlobalData","addBookMarkToken","removeBookmarkToken","updateBookmarkTokens","addBookMarkPair","removeBookmarkPair","updateBookmarkPairs","updateTokenDetails","updateIsProMode","initialState","blockNumber","popupList","openModal","globalData","ethPrice","bookmarkedTokens","bookmarkedPairs","analyticToken","tokenChartData","tokenDetails","isProMode","builder","addCase","state","action","chainId","payload","Math","max","content","key","removeAfterMs","filter","popup","concat","show","forEach","p","price","oneDayPrice","ethPriceChange","data","tokens","push","tokenIndex","indexOf","slice","length","pairs","pairIndex","updatedTokenDetails","detailIndex","findIndex","item","address"],"mappings":"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","sourcesContent":["import { createReducer, nanoid } from '@reduxjs/toolkit';\nimport {\n  addPopup,\n  PopupContent,\n  removePopup,\n  updateBlockNumber,\n  ApplicationModal,\n  setOpenModal,\n  updateEthPrice,\n  updateGlobalData,\n  addBookMarkToken,\n  removeBookmarkToken,\n  updateBookmarkTokens,\n  addBookMarkPair,\n  removeBookmarkPair,\n  updateBookmarkPairs,\n  updateTokenDetails,\n  updateIsProMode,\n} from './actions';\n\ntype PopupList = Array<{\n  key: string;\n  show: boolean;\n  content: PopupContent;\n  removeAfterMs: number | null;\n}>;\n\nexport interface TokenDetail {\n  address: string;\n  tokenData: any;\n  priceData: any;\n}\n\nexport interface ETHPrice {\n  price?: number;\n  oneDayPrice?: number;\n  ethPriceChange?: number;\n}\n\nexport interface ApplicationState {\n  readonly blockNumber: { readonly [chainId: number]: number };\n  readonly popupList: PopupList;\n  readonly openModal: ApplicationModal | null;\n  readonly ethPrice: ETHPrice;\n  readonly globalData: any;\n  readonly bookmarkedTokens: string[];\n  readonly bookmarkedPairs: string[];\n  readonly analyticToken: any;\n  readonly tokenChartData: any;\n  readonly tokenDetails: TokenDetail[];\n  readonly isProMode: boolean;\n}\n\nconst initialState: ApplicationState = {\n  blockNumber: {},\n  popupList: [],\n  openModal: null,\n  globalData: null,\n  ethPrice: {},\n  bookmarkedTokens: [],\n  bookmarkedPairs: [],\n  analyticToken: null,\n  tokenChartData: null,\n  tokenDetails: [],\n  isProMode: false,\n};\n\nexport default createReducer(initialState, (builder) =>\n  builder\n    .addCase(updateBlockNumber, (state, action) => {\n      const { chainId, blockNumber } = action.payload;\n      if (typeof state.blockNumber[chainId] !== 'number') {\n        state.blockNumber[chainId] = blockNumber;\n      } else {\n        state.blockNumber[chainId] = Math.max(\n          blockNumber,\n          state.blockNumber[chainId],\n        );\n      }\n    })\n    .addCase(setOpenModal, (state, action) => {\n      state.openModal = action.payload;\n    })\n    .addCase(\n      addPopup,\n      (state, { payload: { content, key, removeAfterMs = 15000 } }) => {\n        state.popupList = (key\n          ? state.popupList.filter((popup) => popup.key !== key)\n          : state.popupList\n        ).concat([\n          {\n            key: key || nanoid(),\n            show: true,\n            content,\n            removeAfterMs,\n          },\n        ]);\n      },\n    )\n    .addCase(removePopup, (state, { payload: { key } }) => {\n      state.popupList.forEach((p) => {\n        if (p.key === key) {\n          p.show = false;\n        }\n      });\n    })\n    .addCase(\n      updateEthPrice,\n      (state, { payload: { price, oneDayPrice, ethPriceChange } }) => {\n        state.ethPrice = {\n          price,\n          oneDayPrice,\n          ethPriceChange,\n        };\n      },\n    )\n    .addCase(updateGlobalData, (state, { payload: { data } }) => {\n      state.globalData = data;\n    })\n    .addCase(addBookMarkToken, (state, { payload }) => {\n      const tokens = state.bookmarkedTokens;\n      tokens.push(payload);\n      state.bookmarkedTokens = tokens;\n    })\n    .addCase(removeBookmarkToken, (state, { payload }) => {\n      const tokenIndex = state.bookmarkedTokens.indexOf(payload);\n      const tokens = state.bookmarkedTokens\n        .slice(0, tokenIndex - 1)\n        .concat(\n          state.bookmarkedTokens.slice(\n            tokenIndex + 1,\n            state.bookmarkedTokens.length - 1,\n          ),\n        );\n      state.bookmarkedTokens = tokens;\n    })\n    .addCase(updateBookmarkTokens, (state, { payload }) => {\n      state.bookmarkedTokens = payload;\n    })\n    .addCase(addBookMarkPair, (state, { payload }) => {\n      const pairs = state.bookmarkedPairs;\n      pairs.push(payload);\n      state.bookmarkedPairs = pairs;\n    })\n    .addCase(removeBookmarkPair, (state, { payload }) => {\n      const pairIndex = state.bookmarkedPairs.indexOf(payload);\n      const pairs = state.bookmarkedPairs\n        .slice(0, pairIndex - 1)\n        .concat(\n          state.bookmarkedPairs.slice(\n            pairIndex + 1,\n            state.bookmarkedPairs.length - 1,\n          ),\n        );\n      state.bookmarkedPairs = pairs;\n    })\n    .addCase(updateBookmarkPairs, (state, { payload }) => {\n      state.bookmarkedPairs = payload;\n    })\n    .addCase(updateTokenDetails, (state, { payload }) => {\n      const updatedTokenDetails = state.tokenDetails;\n      const detailIndex = updatedTokenDetails.findIndex(\n        (item) => item.address === payload.address,\n      );\n      if (detailIndex > -1) {\n        updatedTokenDetails[detailIndex] = payload;\n      } else {\n        updatedTokenDetails.push(payload);\n      }\n      state.tokenDetails = updatedTokenDetails;\n    })\n    .addCase(updateIsProMode, (state, { payload }) => {\n      state.isProMode = payload;\n    }),\n);\n"]},"metadata":{},"sourceType":"module"}